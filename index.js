// à¹ƒà¸™ index.js
require('dotenv').config();
const express = require('express');

const app = express();
app.use(express.json());

// Routes
app.use("/api/users", require("./route/users"));
app.use("/api/auth", require("./route/login"));

const PORT = process.env.PORT || 3000;

// âœ… FIX 1: à¹ƒà¸«à¹‰ app.listen() à¸£à¸±à¸™à¹€à¸›à¹‡à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢ à¹à¸¥à¸° export app à¸à¹ˆà¸­à¸™
module.exports = app; 

// à¸à¸³à¸«à¸™à¸”à¸•à¸±à¸§à¹à¸›à¸£ server à¸«à¸¥à¸±à¸‡à¸ˆà¸²à¸à¸à¸²à¸£à¸à¸³à¸«à¸™à¸” app
// *** à¸ªà¸³à¸„à¸±à¸: à¸–à¹‰à¸²à¸„à¸¸à¸“à¸£à¸±à¸™ Test, app.listen() à¸ˆà¸°à¸–à¸¹à¸à¸¢à¸à¹€à¸¥à¸´à¸ à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡à¸¡à¸µà¸à¹‡à¹„à¸”à¹‰ à¹à¸•à¹ˆà¸–à¹‰à¸²à¸£à¸±à¸™ server à¸›à¸à¸•à¸´à¸•à¹‰à¸­à¸‡à¸¡à¸µ ***
// à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰ Test à¸ªà¸²à¸¡à¸²à¸£à¸– import 'app' à¹„à¸”à¹‰à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸¡à¸µà¸›à¸±à¸à¸«à¸² ReferenceError 
// à¸„à¸§à¸£à¸¢à¹‰à¸²à¸¢ app.listen à¹„à¸›à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¹„à¸Ÿà¸¥à¹Œ test à¸«à¸£à¸·à¸­à¸£à¸±à¸™à¹à¸„à¹ˆà¹€à¸¡à¸·à¹ˆà¸­à¹„à¸Ÿà¸¥à¹Œà¸–à¸¹à¸à¹€à¸£à¸µà¸¢à¸à¹‚à¸”à¸¢à¸•à¸£à¸‡
// à¹à¸•à¹ˆà¸•à¸²à¸¡à¹‚à¸„à¹‰à¸”à¹€à¸”à¸´à¸¡à¸‚à¸­à¸‡à¸„à¸¸à¸“ à¹ƒà¸«à¹‰à¸—à¸³à¸”à¸±à¸‡à¸™à¸µà¹‰:

// (à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¹ƒà¸™ index.js à¸‚à¸­à¸‡à¸„à¸¸à¸“à¹€à¸›à¹‡à¸™à¹à¸šà¸šà¸™à¸µà¹‰)
const server = app.listen(PORT, () => {
    console.log(`ðŸš€ Server running on http://localhost:${PORT}`);
});

module.exports.server = server;